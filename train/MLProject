name: human-segmentation

docker_env:
  image: yosshi999/virtual-background:0.0.1
  volumes: [
    "$(pwd)/../mlruns:/tmp/mlruns",
    "$(pwd)/data:/opt/data",
    "$(pwd)/../config:/mlflow/projects/code/config",
    "$(pwd)/../fiftyone:/root/fiftyone"
  ]

entry_points:
  train:
    parameters:
      config: {type: string, default: /mlflow/projects/code/config/train/resnet18.yaml}
      upstream: {type: string, default: ""}
      downstream: {type: string, default: /opt/data/model}
    command: |
      python -m src.train \
        --config {config} \
        --upstream {upstream} \
        --downstream {downstream}
